class MDropdown{constructor(s=0,t=0,i=50,h=20,e=[]){this.x=s,this.y=t,this.w=i,this.h=h,this.options=e,this.style={hoverbg:{color:{mode:"rgb",layers:[175,175,175]},strokeWeight:2},bg:{color:{mode:"rgb",layers:[130,130,130]},strokeWeight:2},text:{color:{mode:"rgb",layers:[0,0,0]},size:this.h,strokeWeight:1}},this.val=e[0],this.visible=!0,this.isHovering=!1,this.hoveringOption=null,this.open=!1,this.isInBox=!1,this.onChange=(()=>{})}draw(){if(1==this.visible&&(push(),strokeWeight(this.style.bg.strokeWeight),colorMode(this.style.bg.color.mode),fill(0==this.isHovering?(this.style.bg.color.layers[0],this.style.bg.color.layers[1],this.style.bg.color.layers[2]):(this.style.hoverbg.color.layers[0],this.style.hoverbg.color.layers[1],this.style.hoverbg.color.layers[2])),rect(this.x,this.y,this.w,this.h),textSize(this.style.text.size),fill(this.style.text.color.layers[0],this.style.text.color.layers[1],this.style.text.color.layers[2]),textAlign(LEFT,CENTER),strokeWeight(this.style.text.strokeWeight),text(this.val,this.x+this.w/100,this.y+this.h/2),fill(255),translate(this.x+this.w-this.w/12,this.y),stroke(0),strokeWeight(2),this.open?(line(0,this.h-this.h/4,this.w/18/2,this.h/4),line(this.w/18,this.h-this.h/4,this.w/18/2,this.h/4)):(line(0,this.h/4,this.w/18/2,this.h-this.h/4),line(this.w/18,this.h/4,this.w/18/2,this.h-this.h/4)),pop(),1==this.open)){push(),colorMode(this.style.bg.color.mode),fill(this.style.bg.color.layers[0],this.style.bg.color.layers[1],this.style.bg.color.layers[2]);let s=0;for(let{}in this.options)s+=this.h;rect(this.x,this.y+this.h,this.w,s),s=this.y+this.h+this.h/2;for(let t of this.options)this.hoveringOption==t&&(noStroke(),fill(this.style.hoverbg.color.layers[0],this.style.hoverbg.color.layers[1],this.style.hoverbg.color.layers[2]),rect(this.x,s-this.h/2,this.w,this.h),stroke(0)),textAlign(LEFT,CENTER),fill(this.style.text.color.layers[0],this.style.text.color.layers[1],this.style.text.color.layers[2]),strokeWeight(this.style.text.strokeWeight),text(t,this.x+this.w/100,s),s+=this.h;pop()}if("desktop"==deviceType){if(mouseX>this.x&&mouseX<this.x+this.w&&mouseY>this.y&&mouseY<this.y+this.h&&this.visible?(this.isHovering=!0,mouse.pressed()&&(1==this.open?this.open=!1:this.open=!0),this.isInBox=!0):(this.isHovering=!1,this.isInBox=!1),1==this.open){let s=2*this.h,t=0;for(let i of this.options)mouseX>this.x&&mouseX<this.x+this.w&&mouseY>this.y+s-this.h&&mouseY<this.y+s&&this.visible?(this.hoveringOption=i,mouse.pressed()&&(this.val=i,this.open=!1,this.onChange(this.val)),this.isInBox=!0):t++,s+=this.h;t>=this.options.length&&(this.hoveringOption=null)}!this.isInBox&&mouse.pressed()&&(this.open=!1)}else for(let s of touches){if(s.x>this.x&&s.x<this.x+this.w&&s.y>this.y&&s.y<this.y+this.h&&this.visible?(this.isHovering=!0,isTouching&&(1==this.open?this.open=!1:this.open=!0),this.isInBox=!0):(this.isHovering=!1,this.isInBox=!1),1==this.open){let t=2*this.h,i=0;for(let h of this.options)s.x>this.x&&s.x<this.x+this.w&&s.y>this.y+t-this.h&&s.y<this.y+t&&this.visible?(this.hoveringOption=h,isTouching&&(this.val=h,this.open=!1,this.onChange(this.val)),this.isInBox=!0):i++,t+=this.h;i>=this.options.length&&(this.hoveringOption=null)}!this.isInBox&&isTouching&&(this.open=!1)}}}